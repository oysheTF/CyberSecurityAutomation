import java.util.ArrayList;

import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.WebDriver.Navigation;
import org.openqa.selenium.interactions.Actions;
import org.testng.annotations.Test;

public class VulnerabilityAssessment extends BaseDriver{
	@Test(priority = 0)
	public void openUrl() throws InterruptedException {
		driver.get("https://main.techforing.com/");
		driver.manage().window().maximize();
		Thread.sleep(5000);
		}
	@Test(priority = 1)
	public void test_vulnerability() throws InterruptedException {
	Actions action = new Actions(driver);
	WebElement business_cy = driver.findElement(By.cssSelector(".menu-link[href='//main.techforing.com/enterprise_cybersecurity/']"));
	WebElement vulnerability_accessment = driver.findElement(By.cssSelector("[comment][href='//main.techforing.com/vulnerability_assessment/']"));
	
	action.moveToElement(business_cy).perform();
	Thread.sleep(20000);
	vulnerability_accessment.click();

	//for window handling
			ArrayList<String> tabs = new ArrayList<String>(driver.getWindowHandles());
			driver.switchTo().window(tabs.get(1));
			Thread.sleep(90000);
	//click the link
	WebElement access_vulnerability = driver.findElement(By.cssSelector(".igbr-btn"));
	access_vulnerability.click();
	Thread.sleep(2000);
	//for window handling
	ArrayList<String> tabs1 = new ArrayList<String>(driver.getWindowHandles());
	driver.switchTo().window(tabs1.get(1));
	Thread.sleep(90000);
	//req call back
		WebElement req_callback = driver.findElement(By.cssSelector("#request-btn"));
		req_callback.click();
		Thread.sleep(20000);
		WebElement full_name = driver.findElement(By.cssSelector(".b24-form-field-string .b24-form-control"));
		full_name.sendKeys("Zannatunnesha");
		Thread.sleep(2000);
		WebElement ph_no = driver.findElement(By.cssSelector("[name='phone']"));
		ph_no.sendKeys("+8801706377316");
		Thread.sleep(2000);
		
		WebElement email = driver.findElement(By.cssSelector("[name='email']"));
		email.sendKeys("zannat.techforing@gmail.com");
		Thread.sleep(2000);
		
		WebElement dateBox = driver.findElement(By.cssSelector(".b24-form-control-not-empty"));
		dateBox.sendKeys("10/02/2022");
		  dateBox.sendKeys(Keys.TAB);
		  dateBox.sendKeys("02:45:00 am");
		Thread.sleep(2000);
		WebElement message = driver.findElement(By.cssSelector("textarea"));
		message.sendKeys("Your services are quite good");
		Thread.sleep(2000);
		WebElement submit_btn = driver.findElement(By.cssSelector("[type='submit']"));
		submit_btn.click();
		Thread.sleep(2000);
	
	//download the two books
	WebElement download_book1 = driver.findElement(By.cssSelector(".glide__slides > li:nth-of-type(2) .rs-btn"));
	download_book1.click();
	Thread.sleep(20000);
	
	WebElement download_book2 = driver.findElement(By.cssSelector(".glide__slides > li:nth-of-type(3) .rs-btn"));
	download_book2.click();
	Thread.sleep(20000);
	//see all the success  stories
	WebElement success_stories = driver.findElement(By.cssSelector("[href='/testimonial/']"));
	success_stories.click();
	Thread.sleep(20000);
	//get service
	WebElement get_service = driver.findElement(By.cssSelector(".fa-arrow-right"));
	get_service.click();
	Thread.sleep(20000);
	
	driver.navigate().back();
	Thread.sleep(2000);
    driver.navigate().forward();
	Thread.sleep(2000);
	driver.navigate().refresh();
	Thread.sleep(2000);
	//for vitual meeting
	WebElement virtual_meeting = driver.findElement(By.cssSelector("#virtual-btn"));
	virtual_meeting.click();
	Thread.sleep(20000);
	WebElement schedule_meeting = driver.findElement(By.cssSelector(".reserve"));
	schedule_meeting.click();
	Thread.sleep(20000);
	
	WebElement call_here = driver.findElement(By.cssSelector("body"));
	call_here.click();
	Thread.sleep(20000);
	//want to get in touch
	WebElement get_fullName = driver.findElement(By.cssSelector("[type='string']"));
	get_fullName.sendKeys("Zannatunnesha");
	Thread.sleep(20000);
	WebElement get_email = driver.findElement(By.cssSelector("[name='email']"));
	get_email.sendKeys("Zannatunnesha");
	Thread.sleep(20000);
	WebElement get_message = driver.findElement(By.cssSelector("textarea"));
	get_message.sendKeys("Zannatunnesha");
	Thread.sleep(20000);
	WebElement get_submitbtn = driver.findElement(By.xpath(" //button[contains(text(),'Submit')]"));
	get_submitbtn.click();
	Thread.sleep(20000);
	//navigate previous page
	((Navigation) driver).back();
	
		
	}

}
